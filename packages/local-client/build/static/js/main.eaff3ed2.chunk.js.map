{"version":3,"sources":["bundler/index.ts","themes/defaultDarkTheme.ts","store/features/cells/cellsSlice.thunk.ts","store/features/cells/cellsSlice.ts","store/features/bundles/bundlesSlice.ts","store/middlewares/persistMiddleware.ts","store/store.ts","hooks/useActions.ts","hooks/useAppDispatch.ts","hooks/useTypedSelector.ts","components/ActionBar/ActionBar.styled.ts","components/ActionBar/ActionBar.tsx","components/CodeEditor/CodeEditor.styled.ts","components/CodeEditor/CodeEditor.tsx","components/Preview/Preview.styled.ts","components/Preview/Preview.tsx","components/Resizable/Resizable.tsx","components/CodeCell/CodeCell.styled.ts","bundler/plugins/fetch-plugin.ts","bundler/plugins/unpkg-path-plugin.ts","store/features/bundles/bundles.thunk.ts","components/CodeCell/CodeCell.tsx","hooks/useCumulativeCode.ts","components/TextEditor/TextEditor.tsx","components/CellListItem/CellListItems.styled.ts","components/CellListItem/CellListItem.tsx","components/AddCell/AddCell.styled.ts","components/AddCell/AddCell.tsx","components/CellList/CodeCell.styled.ts","components/CellList/CellList.tsx","index.tsx"],"names":["service","defaultDarkTheme","createTheme","breakpoints","keys","values","xs","sm","md","lg","xl","unit","direction","components","palette","mode","common","black","white","primary","main","light","dark","contrastText","secondary","error","warning","info","success","grey","A100","A200","A400","A700","contrastThreshold","tonalOffset","text","disabled","divider","background","paper","default","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","shape","borderRadius","mixins","toolbar","minHeight","shadows","typography","htmlFontSize","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","h1","fontWeight","lineHeight","letterSpacing","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","button","textTransform","caption","overline","transitions","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","zIndex","mobileStepper","speedDial","appBar","drawer","modal","snackbar","tooltip","fetchCells","createAsyncThunk","_","a","getState","requestId","cells","loading","currentRequestId","axios","get","data","saveCells","order","map","id","post","initialState","undefined","saveError","cellsSlice","createSlice","name","reducers","moveCell","state","payload","index","findIndex","targetIndex","length","deleteCell","filter","insertCell","type","cell","uuidv4","content","unshift","splice","updateCell","extraReducers","builder","addCase","pending","meta","fulfilled","reduce","accumulator","rejected","cellsActions","actions","bundlesSlice","currentCellId","cellBundles","setCurrentCellId","code","err","isBundling","removeBundle","startBundling","completeBundling","cellId","bundle","bundlesActions","persistMiddleware","store","timer","next","includes","clearTimeout","setTimeout","dispatch","configureStore","reducer","cellsReducer","bundles","bundlesReducer","devTools","process","middleware","getDefaultMiddleware","concat","useActions","useDispatch","useMemo","bindActionCreators","useAppDispatch","useTypedSelector","useSelector","ActionBarContainer","styled","position","top","right","opacity","transition","margin","ActionBar","ButtonGroup","size","disableElevation","variant","Button","startIcon","onClick","FormatButton","marginRight","theme","spacing","CodeEditorContainer","width","height","CodeEditor","initialValue","onChange","editorRef","useRef","prettierFormatter","useEffect","current","window","__PRETTIER_FORMATTER__","formatted","unformatted","getModel","getValue","replace","setValue","editorDidMount","getCurrentValue","monacoEditor","onDidChangeModelContent","updateOptions","tabSize","Highlighter","monaco","codeShift","highLightOnDidChangeModelContent","value","language","options","wordWrap","minimap","enabled","showUnused","folding","lineNumbersMinChars","scrollBeyondLastLine","automaticLayout","IframeContainer","flex","bottom","left","backgroundColor","iframe","PreviewError","color","padding","html","Preview","bundlingStatus","srcdoc","contentWindow","postMessage","title","sandbox","srcDoc","ref","Resizable","resizableProps","children","initialPreviewWidth","innerWidth","useState","innerHeight","setInnerHeight","setInnerWidth","setWidth","listener","addEventListener","removeEventListener","className","Infinity","maxConstraints","minConstraints","resizeHandles","onResizeStop","event","CodeCellContainer","Box","display","flexDirection","BundlingProgress","justifyContent","alignItems","gap","fileCache","localForage","createInstance","fetchPlugin","inputCode","setup","build","onLoad","args","loader","contents","getItem","path","cachedResult","request","escaped","result","resolveDir","URL","responseURL","pathname","setItem","bundler","rawCode","esbuild","worker","wasmURL","entryPoints","write","plugins","onResolve","namespace","href","define","global","jsxFactory","jsxFragment","createBundle","outputFiles","Error","message","CodeCell","cumulativeCode","orderedCells","c","push","join","sx","marginBottom","CircularProgress","Typography","component","TextEditor","editing","setEditing","MDEditorRef","target","contains","document","capture","v","Card","CardContent","Markdown","source","CellListItemContainer","ActionBarWrapper","CellListItem","child","AddCellContainer","shouldForwardProp","prop","forceVisible","marginBlock","Divider","borderBottom","AddCell","previousCellId","scrollTo","body","scrollHeight","behavior","CellListWrapper","CellList","props","cellsList","renderedCells","MainLayout","App","ThemeProvider","darkTheme","CssBaseline","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.eaff3ed2.chunk.js","sourcesContent":["import * as esbuild from 'esbuild-wasm';\nimport { unpkgPathPlugin } from './plugins/unpkg-path-plugin';\nimport { fetchPlugin } from './plugins/fetch-plugin';\n\nlet service: esbuild.Service;\n\nconst bundler = async (rawCode: string) => {\n  if (!service) {\n    service = await esbuild.startService({\n      worker: true,\n      wasmURL: 'https://unpkg.com/esbuild-wasm@0.8.27/esbuild.wasm',\n    });\n  }\n\n  return service.build({\n    entryPoints: ['index.js'],\n    bundle: true,\n    write: false,\n    plugins: [unpkgPathPlugin(), fetchPlugin(rawCode)],\n    define: {\n      'process.env.NODE_ENV': '\"production\"',\n      global: 'window',\n    },\n    jsxFactory: '_React.createElement',\n    jsxFragment: '_React.Fragment',\n  });\n};\n\nexport default bundler;\n","import { createTheme } from '@mui/material/styles';\n\nconst defaultDarkTheme = createTheme({\n  breakpoints: {\n    keys: ['xs', 'sm', 'md', 'lg', 'xl'],\n    values: { xs: 0, sm: 600, md: 900, lg: 1200, xl: 1536 },\n    unit: 'px',\n  },\n  direction: 'ltr',\n  components: {},\n  palette: {\n    mode: 'dark',\n    common: { black: '#000', white: '#fff' },\n    primary: {\n      main: '#90caf9',\n      light: '#e3f2fd',\n      dark: '#42a5f5',\n      contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    secondary: {\n      main: '#ce93d8',\n      light: '#f3e5f5',\n      dark: '#ab47bc',\n      contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    error: {\n      main: '#f44336',\n      light: '#e57373',\n      dark: '#d32f2f',\n      contrastText: '#fff',\n    },\n    warning: {\n      main: '#ffa726',\n      light: '#ffb74d',\n      dark: '#f57c00',\n      contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    info: {\n      main: '#29b6f6',\n      light: '#4fc3f7',\n      dark: '#0288d1',\n      contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    success: {\n      main: '#66bb6a',\n      light: '#81c784',\n      dark: '#388e3c',\n      contrastText: 'rgba(0, 0, 0, 0.87)',\n    },\n    grey: {\n      '50': '#fafafa',\n      '100': '#f5f5f5',\n      '200': '#eeeeee',\n      '300': '#e0e0e0',\n      '400': '#bdbdbd',\n      '500': '#9e9e9e',\n      '600': '#757575',\n      '700': '#616161',\n      '800': '#424242',\n      '900': '#212121',\n      A100: '#f5f5f5',\n      A200: '#eeeeee',\n      A400: '#bdbdbd',\n      A700: '#616161',\n    },\n    contrastThreshold: 3,\n    tonalOffset: 0.2,\n    text: {\n      primary: '#fff',\n      secondary: 'rgba(255, 255, 255, 0.7)',\n      disabled: 'rgba(255, 255, 255, 0.5)',\n    },\n    divider: 'rgba(255, 255, 255, 0.12)',\n    background: { paper: '#121212', default: '#121212' },\n    action: {\n      active: '#fff',\n      hover: 'rgba(255, 255, 255, 0.08)',\n      hoverOpacity: 0.08,\n      selected: 'rgba(255, 255, 255, 0.16)',\n      selectedOpacity: 0.16,\n      disabled: 'rgba(255, 255, 255, 0.3)',\n      disabledBackground: 'rgba(255, 255, 255, 0.12)',\n      disabledOpacity: 0.38,\n      focus: 'rgba(255, 255, 255, 0.12)',\n      focusOpacity: 0.12,\n      activatedOpacity: 0.24,\n    },\n  },\n  shape: { borderRadius: 4 },\n  mixins: {\n    toolbar: {\n      minHeight: 56,\n      '@media (min-width:0px) and (orientation: landscape)': { minHeight: 48 },\n      '@media (min-width:600px)': { minHeight: 64 },\n    },\n  },\n  shadows: [\n    'none',\n    '0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)',\n    '0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)',\n    '0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)',\n    '0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)',\n    '0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)',\n    '0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)',\n    '0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)',\n    '0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)',\n    '0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)',\n    '0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)',\n    '0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)',\n    '0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)',\n    '0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)',\n    '0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)',\n    '0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)',\n    '0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)',\n    '0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)',\n    '0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)',\n    '0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)',\n    '0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)',\n    '0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)',\n    '0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)',\n    '0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)',\n    '0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)',\n  ],\n  typography: {\n    htmlFontSize: 16,\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontSize: 14,\n    fontWeightLight: 300,\n    fontWeightRegular: 400,\n    fontWeightMedium: 500,\n    fontWeightBold: 700,\n    h1: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 300,\n      fontSize: '6rem',\n      lineHeight: 1.167,\n      letterSpacing: '-0.01562em',\n    },\n    h2: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 300,\n      fontSize: '3.75rem',\n      lineHeight: 1.2,\n      letterSpacing: '-0.00833em',\n    },\n    h3: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '3rem',\n      lineHeight: 1.167,\n      letterSpacing: '0em',\n    },\n    h4: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '2.125rem',\n      lineHeight: 1.235,\n      letterSpacing: '0.00735em',\n    },\n    h5: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '1.5rem',\n      lineHeight: 1.334,\n      letterSpacing: '0em',\n    },\n    h6: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 500,\n      fontSize: '1.25rem',\n      lineHeight: 1.6,\n      letterSpacing: '0.0075em',\n    },\n    subtitle1: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '1rem',\n      lineHeight: 1.75,\n      letterSpacing: '0.00938em',\n    },\n    subtitle2: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 500,\n      fontSize: '0.875rem',\n      lineHeight: 1.57,\n      letterSpacing: '0.00714em',\n    },\n    body1: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '1rem',\n      lineHeight: 1.5,\n      letterSpacing: '0.00938em',\n    },\n    body2: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '0.875rem',\n      lineHeight: 1.43,\n      letterSpacing: '0.01071em',\n    },\n    button: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 500,\n      fontSize: '0.875rem',\n      lineHeight: 1.75,\n      letterSpacing: '0.02857em',\n      textTransform: 'uppercase',\n    },\n    caption: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '0.75rem',\n      lineHeight: 1.66,\n      letterSpacing: '0.03333em',\n    },\n    overline: {\n      fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n      fontWeight: 400,\n      fontSize: '0.75rem',\n      lineHeight: 2.66,\n      letterSpacing: '0.08333em',\n      textTransform: 'uppercase',\n    },\n  },\n  transitions: {\n    easing: {\n      easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n      easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n      easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n      sharp: 'cubic-bezier(0.4, 0, 0.6, 1)',\n    },\n    duration: {\n      shortest: 150,\n      shorter: 200,\n      short: 250,\n      standard: 300,\n      complex: 375,\n      enteringScreen: 225,\n      leavingScreen: 195,\n    },\n  },\n  zIndex: {\n    mobileStepper: 1000,\n    speedDial: 1050,\n    appBar: 1100,\n    drawer: 1200,\n    modal: 1300,\n    snackbar: 1400,\n    tooltip: 1500,\n  },\n});\n\nexport default defaultDarkTheme;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { RootState } from '../../store';\nimport { Cell } from '../../cell';\nimport axios from 'axios';\n\nexport const fetchCells = createAsyncThunk<Cell[], void, { state: RootState }>(\n  'cells/fetchCells',\n  async (_, { getState, requestId }) => {\n    const { loading, currentRequestId } = getState().cells;\n\n    if (!loading || requestId !== currentRequestId) {\n      return;\n    }\n\n    const { data } = await axios.get('/cells');\n\n    return data;\n  }\n);\n\nexport const saveCells = createAsyncThunk<void, void, { state: RootState }>(\n  'cells/saveCells',\n  async (_, { getState, requestId }) => {\n    const { loading, currentRequestId, data, order } = getState().cells;\n\n    if (!loading || requestId !== currentRequestId) {\n      return;\n    }\n\n    const cells = order.map((id) => data[id]);\n\n    await axios.post('/cells', { cells });\n  }\n);\n","import { createSlice, PayloadAction, SerializedError } from '@reduxjs/toolkit';\nimport { CellTypes, Cell, Direction } from '../../cell';\nimport { v4 as uuidv4 } from 'uuid';\nimport { fetchCells, saveCells } from './cellsSlice.thunk';\n\nexport interface CellsState {\n  data: { [key: string]: Cell };\n  loading: boolean;\n  error: string | null | SerializedError;\n  order: string[];\n  currentRequestId: string | undefined;\n  saveError: string | null | SerializedError;\n}\n\nconst initialState: CellsState = {\n  data: {},\n  loading: false,\n  error: null,\n  order: [],\n  currentRequestId: undefined,\n  saveError: null,\n};\n\nexport const cellsSlice = createSlice({\n  name: 'cell',\n  initialState,\n  reducers: {\n    moveCell: (\n      state,\n      action: PayloadAction<{ id: string; direction: Direction }>\n    ) => {\n      const { direction } = action.payload;\n      const index = state.order.findIndex((id) => id === action.payload.id);\n      const targetIndex = direction === 'up' ? index - 1 : index + 1;\n\n      if (targetIndex < 0 || targetIndex > state.order.length - 1) {\n        return; // invalid state update\n      }\n\n      [\n        state.order[index], //\n        state.order[targetIndex],\n      ] = [\n        state.order[targetIndex], //\n        state.order[index],\n      ];\n    },\n    deleteCell: (state, action: PayloadAction<string>) => {\n      delete state.data[action.payload];\n\n      state.order = state.order.filter((id) => id !== action.payload);\n    },\n    insertCell: (\n      state,\n      action: PayloadAction<{ id: string | null; type: CellTypes }>\n    ) => {\n      const { type } = action.payload;\n\n      const cell: Cell = {\n        id: uuidv4(),\n        type,\n        content: '',\n      };\n\n      state.data[cell.id] = cell;\n\n      const index = state.order.findIndex((id) => id === action.payload.id);\n\n      if (index < 0) {\n        state.order.unshift(cell.id);\n      } else {\n        state.order.splice(index + 1, 0, cell.id);\n      }\n    },\n    updateCell: (\n      state,\n      action: PayloadAction<{ id: string; content: string }>\n    ) => {\n      const { id, content } = action.payload;\n\n      state.data[id].content = content;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCells.pending, (state, action) => {\n        if (state.loading === false) {\n          state.loading = true;\n          state.error = null;\n          state.currentRequestId = action.meta.requestId;\n        }\n      })\n      .addCase(fetchCells.fulfilled, (state, action) => {\n        const { requestId } = action.meta;\n        if (state.loading === true && state.currentRequestId === requestId) {\n          state.loading = false;\n          state.currentRequestId = undefined;\n          state.order = action.payload.map((cell) => cell.id);\n          state.data = action.payload.reduce((accumulator, cell) => {\n            accumulator[cell.id] = cell;\n            return accumulator;\n          }, {} as CellsState['data']);\n        }\n      })\n      .addCase(fetchCells.rejected, (state, action) => {\n        const { requestId } = action.meta;\n        if (state.loading === true && state.currentRequestId === requestId) {\n          state.loading = false;\n          state.error = action.error;\n          state.currentRequestId = undefined;\n        }\n      })\n      .addCase(saveCells.pending, (state, action) => {\n        if (state.loading === false) {\n          state.loading = true;\n          state.saveError = null;\n          state.currentRequestId = action.meta.requestId;\n        }\n      })\n      .addCase(saveCells.fulfilled, (state, action) => {\n        const { requestId } = action.meta;\n        if (state.loading === true && state.currentRequestId === requestId) {\n          state.loading = false;\n          state.currentRequestId = undefined;\n        }\n      })\n      .addCase(saveCells.rejected, (state, action) => {\n        const { requestId } = action.meta;\n        if (state.loading === true && state.currentRequestId === requestId) {\n          state.loading = false;\n          state.saveError = action.error;\n          state.currentRequestId = undefined;\n        }\n      });\n  },\n});\n\nexport const cellsActions = cellsSlice.actions;\n\nexport default cellsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface Bundle {\n  code: string;\n  err: string | null;\n}\n\nexport interface BundlesState {\n  currentCellId: string | null;\n  cellBundles: {\n    [key: string]:\n      | {\n          code: string;\n          err: string | null;\n          isBundling: boolean;\n        }\n      | undefined;\n  };\n}\n\nconst initialState: BundlesState = {\n  currentCellId: null,\n  cellBundles: {},\n};\n\nexport const bundlesSlice = createSlice({\n  name: 'bundles',\n  initialState,\n  reducers: {\n    setCurrentCellId(state, action: PayloadAction<string>) {\n      state.currentCellId = action.payload;\n\n      if (!state.cellBundles[action.payload]) {\n        state.cellBundles[action.payload] = {\n          code: '',\n          err: null,\n          isBundling: false,\n        };\n      }\n    },\n    removeBundle(state, action: PayloadAction<string>) {\n      delete state.cellBundles[action.payload];\n    },\n    startBundling(state, action: PayloadAction<string>) {\n      state.cellBundles[action.payload] = {\n        code: '',\n        err: null,\n        isBundling: false,\n      };\n    },\n    completeBundling(\n      state,\n      action: PayloadAction<{ cellId: string; bundle: Bundle }>\n    ) {\n      const { cellId, bundle } = action.payload;\n\n      state.cellBundles[cellId] = {\n        code: bundle.code,\n        err: bundle.err,\n        isBundling: false,\n      };\n    },\n  },\n});\n\nexport const bundlesActions = bundlesSlice.actions;\n\nexport default bundlesSlice.reducer;\n","import { saveCells } from '../features/cells/cellsSlice.thunk';\nimport { MiddlewareAPI, Dispatch, Middleware, AnyAction } from 'redux';\nimport { ThunkDispatch } from '@reduxjs/toolkit';\nimport { RootState } from '../store';\n\nexport const persistMiddleware: Middleware = (store: MiddlewareAPI) => {\n  let timer: ReturnType<typeof setTimeout>;\n\n  return (next: Dispatch) => {\n    return (action) => {\n      next(action);\n\n      if (\n        [\n          'cell/moveCell',\n          'cell/updateCell',\n          'cell/deleteCell',\n          'cell/insertCell',\n        ].includes(action.type)\n      ) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(() => {\n          (store.dispatch as ThunkDispatch<RootState, unknown, AnyAction>)(\n            saveCells()\n          );\n        }, 1000);\n      }\n    };\n  };\n};\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport cellsReducer from './features/cells/cellsSlice';\nimport bundlesReducer from './features/bundles/bundlesSlice';\nimport { persistMiddleware } from './middlewares/persistMiddleware';\n\nexport const store = configureStore({\n  reducer: {\n    cells: cellsReducer,\n    bundles: bundlesReducer,\n  },\n  devTools: process.env.NODE_ENV !== 'production',\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(persistMiddleware),\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { bindActionCreators } from '@reduxjs/toolkit';\nimport { useDispatch } from 'react-redux';\nimport { cellsActions } from '../store/features/cells/cellsSlice';\nimport { bundlesActions } from '../store/features/bundles/bundlesSlice';\nimport { useMemo } from 'react';\n\nconst actions = {\n  ...cellsActions,\n  ...bundlesActions,\n};\n\nexport const useActions = (): typeof actions => {\n  const dispatch = useDispatch();\n\n  return useMemo(() => {\n    return bindActionCreators(actions, dispatch);\n  }, [dispatch]);\n};\n","import type { AppDispatch } from '../store/store';\nimport { useDispatch } from 'react-redux';\n\n// Export a hook that can be reused to resolve types\nexport const useAppDispatch = (): AppDispatch => useDispatch<AppDispatch>();\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport type { RootState } from '../store/store';\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { styled } from '@mui/system';\n\nexport const ActionBarContainer = styled('div')({\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  zIndex: 1,\n  opacity: 0.3,\n  transition: 'opacity 0.3s',\n\n  '.MuiButton-startIcon': {\n    margin: 0,\n  },\n\n  '.MuiButtonGroup-root .MuiButton-root': {\n    borderRadius: 0,\n  },\n\n  '&:hover': {\n    opacity: 1,\n  },\n});\n","import React, { FC } from 'react';\nimport { useActions } from '../../hooks';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport Button from '@mui/material/Button';\nimport { ActionBarContainer } from './ActionBar.styled';\n\ninterface Props {\n  cellId: string;\n}\n\nconst ActionBar: FC<Props> = ({ cellId }) => {\n  const { deleteCell, moveCell, removeBundle } = useActions();\n\n  const handleDeleteCell = () => {\n    deleteCell(cellId);\n    removeBundle(cellId);\n  };\n\n  return (\n    <ActionBarContainer>\n      <ButtonGroup size=\"small\" disableElevation variant=\"contained\">\n        <Button\n          startIcon={<ArrowUpwardIcon />}\n          onClick={() => moveCell({ id: cellId, direction: 'up' })}\n        ></Button>\n\n        <Button\n          startIcon={<ArrowDownwardIcon />}\n          onClick={() => moveCell({ id: cellId, direction: 'down' })}\n        ></Button>\n\n        <Button startIcon={<DeleteIcon />} onClick={handleDeleteCell}></Button>\n      </ButtonGroup>\n    </ActionBarContainer>\n  );\n};\n\nexport default ActionBar;\n","import Button from '@mui/material/Button';\nimport { styled } from '@mui/system';\n\nexport const FormatButton = styled(Button)(({ theme }) => ({\n  position: 'absolute',\n  zIndex: 1,\n  right: '.5rem',\n  top: '.5rem',\n  opacity: 0,\n  transition: 'opacity 0.3s',\n  marginRight: theme.spacing(2),\n}));\n\nexport const CodeEditorContainer = styled('div')({\n  position: 'relative',\n  width: 'calc(100% - 10px)',\n  height: '100%',\n\n  '&:hover > .MuiButton-root': {\n    opacity: 1,\n  },\n});\n","import React, { FC, useEffect, useRef } from 'react';\nimport MonacoEditor, { EditorDidMount } from '@monaco-editor/react';\n// import prettier from 'prettier';\n// import parser from 'prettier/parser-babel';\nimport codeShift from 'jscodeshift';\nimport Highlighter from 'monaco-jsx-highlighter';\nimport './syntax.css';\nimport { FormatButton, CodeEditorContainer } from './CodeEditor.styled';\n\ntype PrettierFormatter = (unformatted: string) => string;\n\ndeclare global {\n  interface Window {\n    __PRETTIER_FORMATTER__: PrettierFormatter;\n  }\n}\n\ninterface Props {\n  initialValue: string;\n  onChange(value: string): void;\n}\n\nconst CodeEditor: FC<Props> = ({ initialValue, onChange }) => {\n  const editorRef = useRef<any>();\n  const prettierFormatter = useRef<PrettierFormatter>();\n\n  const onEditorDidMount: EditorDidMount = (getCurrentValue, monacoEditor) => {\n    editorRef.current = monacoEditor;\n\n    monacoEditor.onDidChangeModelContent(() => {\n      onChange(getCurrentValue());\n    });\n\n    monacoEditor.getModel()?.updateOptions({ tabSize: 2 });\n\n    const highlighter = new Highlighter(\n      // @ts-ignore\n      window.monaco,\n      codeShift,\n      monacoEditor\n    );\n\n    highlighter.highLightOnDidChangeModelContent(\n      () => {},\n      () => {},\n      undefined,\n      () => {}\n    );\n  };\n\n  useEffect(() => {\n    prettierFormatter.current = window.__PRETTIER_FORMATTER__;\n  }, []);\n\n  const onFormatClick = () => {\n    const unformatted = editorRef.current.getModel().getValue();\n\n    let formatted: string;\n\n    if (prettierFormatter.current) {\n      formatted = prettierFormatter.current(unformatted).replace(/\\n$/, '');\n    } else {\n      formatted = unformatted;\n    }\n\n    editorRef.current.setValue(formatted);\n  };\n\n  return (\n    <CodeEditorContainer>\n      <FormatButton size=\"small\" variant=\"outlined\" onClick={onFormatClick}>\n        Format\n      </FormatButton>\n\n      <MonacoEditor\n        editorDidMount={onEditorDidMount}\n        value={initialValue}\n        language=\"javascript\"\n        theme=\"dark\"\n        options={{\n          wordWrap: 'on',\n          minimap: { enabled: false },\n          showUnused: true,\n          folding: false,\n          lineNumbersMinChars: 3,\n          fontSize: 16,\n          scrollBeyondLastLine: false,\n          automaticLayout: true,\n        }}\n      />\n    </CodeEditorContainer>\n  );\n};\n\nexport default CodeEditor;\n","import { styled } from '@mui/system';\n\nexport const IframeContainer = styled('div')(({ theme }) => ({\n  position: 'relative',\n  height: '100%',\n  flex: 1,\n\n  '.react-draggable-transparent-selection &:after': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'transparent',\n  },\n\n  iframe: {\n    height: '100%',\n    backgroundColor: '#fff',\n    width: '100%',\n  },\n}));\n\nexport const PreviewError = styled('div')(({ theme }) => ({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  color: 'red',\n  backgroundColor: '#fff',\n  height: '100%',\n  width: '100%',\n  padding: theme.spacing(1),\n}));\n","import React, { FC, useEffect, useRef } from 'react';\nimport { IframeContainer, PreviewError } from './Preview.styled';\n\nconst html = `\n<html>\n  <head>\n    <style>\n      html {\n        background-color: '#fff'\n      }\n    </style>\n  </head>\n  \n  <body>\n    <div id=\"root\"></div>\n\n    <script>\n      const handleError = (err) => {\n        const root = document.querySelector('#root');\n        root.innerHTML = '<div style=\"color: red;\"><h4>Runtime Error</h4>' + err + '</div>';\n\n        console.error(err);\n      };\n\n      window.addEventListener('error', (event) => {\n        event.preventDefault(); // for the browser not to print out the error in the console\n        handleError(event.error);\n      })\n\n      window.addEventListener(\"message\", (event) => {\n        try {\n          eval(event.data);\n        } catch (err) {\n          handleError(err)\n        }\n      }, false);\n    </script>\n  </body>\n</html>\n`;\n\ninterface Props {\n  code: string;\n  bundlingStatus: string | null;\n}\n\nconst Preview: FC<Props> = ({ code, bundlingStatus }) => {\n  const iframe = useRef<any>();\n\n  useEffect(() => {\n    iframe.current.srcdoc = html;\n\n    if (iframe.current) {\n      setTimeout(() => {\n        iframe.current.contentWindow.postMessage(code, '*');\n      }, 50);\n    }\n  }, [code]);\n\n  return (\n    <IframeContainer>\n      <iframe\n        title=\"preview\"\n        sandbox=\"allow-scripts\"\n        srcDoc={html}\n        ref={iframe}\n      />\n\n      {bundlingStatus && <PreviewError>{bundlingStatus}</PreviewError>}\n    </IframeContainer>\n  );\n};\n\nexport default Preview;\n","import React, { FC, useEffect, useState } from 'react';\nimport { ResizableBox, ResizableBoxProps } from 'react-resizable';\nimport './resizable.css';\ninterface Props {\n  direction: 'horizontal' | 'vertical';\n}\n\nconst Resizable: FC<Props> = ({ direction, children }) => {\n  const initialPreviewWidth = window.innerWidth * 0.65;\n\n  const [innerHeight, setInnerHeight] = useState(window.innerHeight);\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n  const [width, setWidth] = useState(initialPreviewWidth);\n\n  let resizableProps: ResizableBoxProps;\n\n  useEffect(() => {\n    let timer: ReturnType<typeof setTimeout>;\n    const listener = () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      timer = setTimeout(() => {\n        setInnerHeight(window.innerHeight);\n        setInnerWidth(window.innerWidth);\n        if (initialPreviewWidth < width) {\n          setWidth(initialPreviewWidth);\n        }\n      }, 100);\n    };\n\n    window.addEventListener('resize', listener);\n\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n    // eslint-disable-next-line\n  }, [width]);\n\n  if (direction === 'horizontal') {\n    resizableProps = {\n      className: 'resize-horizontal',\n      height: Infinity,\n      width,\n      maxConstraints: [innerWidth * 0.75, Infinity],\n      minConstraints: [innerWidth * 0.2, Infinity],\n      resizeHandles: ['e'],\n      onResizeStop(event, data) {\n        setWidth(data.size.width);\n      },\n    };\n  } else {\n    resizableProps = {\n      className: 'resize-vertical',\n      height: 300,\n      width: Infinity,\n      maxConstraints: [Infinity, innerHeight * 0.9],\n      minConstraints: [Infinity, 100],\n      resizeHandles: ['s'],\n    };\n  }\n  return <ResizableBox {...resizableProps}>{children}</ResizableBox>;\n};\n\nexport default Resizable;\n","import { styled } from '@mui/system';\nimport Box from '@mui/material/Box';\n\nexport const CodeCellContainer = styled(Box)({\n  display: 'flex',\n  height: '100%',\n  flexDirection: 'row',\n});\n\nexport const BundlingProgress = styled(Box)({\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  width: '100%',\n  flexDirection: 'column',\n  gap: '1rem',\n});\n","import * as esbuild from 'esbuild-wasm';\nimport axios from 'axios';\nimport localForage from 'localforage';\n\nconst fileCache = localForage.createInstance({\n\tname: 'filecache'\n});\n\nexport const fetchPlugin = (inputCode: string) => {\n\treturn {\n\t\tname: 'fetch-plugin',\n\t\tsetup(build: esbuild.PluginBuild) {\n\t\t\tbuild.onLoad({ filter: /(^index\\.js$)/ }, async (args: any) => {\n\t\t\t\treturn {\n\t\t\t\t\tloader: 'jsx',\n\t\t\t\t\tcontents: inputCode\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tbuild.onLoad({ filter: /.*/ }, async (args: any) => {\n\t\t\t\tconst cachedResult = await fileCache.getItem<esbuild.OnLoadResult>(args.path);\n\n\t\t\t\tif (cachedResult) {\n\t\t\t\t\treturn cachedResult;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbuild.onLoad({ filter: /.css$/ }, async (args: any) => {\n\t\t\t\tconst { data, request } = await axios.get(args.path);\n\n\t\t\t\tconst escaped = data.replace(/\\n/g, '').replace(/\"/g, '\\\\\"').replace(/'/g, \"\\\\'\");\n\n\t\t\t\tconst contents = `\n        const style = document.createElement('style');\n        style.innerText = '${escaped}';\n        document.head.appendChild(style);\n        `;\n\n\t\t\t\tconst result: esbuild.OnLoadResult = {\n\t\t\t\t\tloader: 'jsx',\n\t\t\t\t\tcontents,\n\t\t\t\t\tresolveDir: new URL('./', request.responseURL).pathname\n\t\t\t\t};\n\n\t\t\t\tawait fileCache.setItem(args.path, result);\n\n\t\t\t\treturn result;\n\t\t\t});\n\n\t\t\tbuild.onLoad({ filter: /.*/ }, async (args: any) => {\n\t\t\t\tconst { data, request } = await axios.get(args.path);\n\n\t\t\t\tconst result: esbuild.OnLoadResult = {\n\t\t\t\t\tloader: 'jsx',\n\t\t\t\t\tcontents: data,\n\t\t\t\t\tresolveDir: new URL('./', request.responseURL).pathname\n\t\t\t\t};\n\n\t\t\t\tawait fileCache.setItem(args.path, result);\n\n\t\t\t\treturn result;\n\t\t\t});\n\t\t}\n\t};\n};\n","import * as esbuild from 'esbuild-wasm';\n\nexport const unpkgPathPlugin = () => {\n  return {\n    name: 'unpkg-path-plugin',\n    setup(build: esbuild.PluginBuild) {\n      // Handle root entry file of 'index.js'\n      build.onResolve({ filter: /(^index\\.js$)/ }, (args: any) => {\n        return {\n          path: args.path,\n          namespace: 'a',\n        };\n      });\n\n      // Handle relative paths in a module\n      build.onResolve({ filter: /^\\.+\\// }, (args: any) => {\n        return {\n          namespace: 'a',\n          path: new URL(args.path, `https://unpkg.com${args.resolveDir}/`).href,\n        };\n      });\n\n      // Handle main file of a module\n      build.onResolve({ filter: /.*/ }, async (args: any) => {\n        return {\n          namespace: 'a',\n          path: `https://unpkg.com/${args.path}`,\n        };\n      });\n    },\n  };\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport bundler from '../../../bundler';\nimport { RootState } from '../../store';\nimport { bundlesActions, Bundle } from './bundlesSlice';\n\nexport const createBundle = createAsyncThunk<\n  Bundle | undefined,\n  { cellId: string; rawCode: string },\n  { state: RootState }\n>(\n  'bundles/createBundle',\n  async (\n    { cellId, rawCode },\n    { dispatch, getState }\n  ): Promise<Bundle | undefined> => {\n    dispatch(bundlesActions.setCurrentCellId(cellId));\n\n    const { cellBundles } = getState().bundles;\n\n    if (!cellBundles[cellId] || cellBundles[cellId]?.isBundling) {\n      return;\n    }\n\n    dispatch(bundlesActions.startBundling(cellId));\n\n    let bundle: Bundle = {\n      code: '',\n      err: '',\n    };\n\n    try {\n      const result = await bundler(rawCode);\n\n      bundle = {\n        code: result.outputFiles[0].text,\n        err: null,\n      };\n    } catch (error) {\n      if (error instanceof Error) {\n        bundle = {\n          code: '',\n          err: error.message,\n        };\n      }\n    } finally {\n      dispatch(\n        bundlesActions.completeBundling({\n          cellId,\n          bundle,\n        })\n      );\n\n      return bundle;\n    }\n  }\n);\n","import React, { FC, useEffect } from 'react';\nimport CodeEditor from '../CodeEditor/CodeEditor';\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Preview from '../Preview/Preview';\nimport Resizable from '../Resizable/Resizable';\nimport { Cell } from '../../store/cell';\nimport {\n  useActions,\n  useTypedSelector,\n  useAppDispatch,\n  useCumulativeCode,\n} from '../../hooks';\nimport { CodeCellContainer, BundlingProgress } from './CodeCell.styled';\nimport { createBundle } from '../../store/features/bundles/bundles.thunk';\n\ninterface Props {\n  cell: Cell;\n}\n\nconst CodeCell: FC<Props> = ({ cell }) => {\n  const { updateCell } = useActions();\n  const dispatch = useAppDispatch();\n\n  const bundle = useTypedSelector(\n    (state) => state.bundles.cellBundles[cell.id]\n  );\n\n  const cumulativeCode = useCumulativeCode(cell.id);\n\n  useEffect(() => {\n    if (!bundle) {\n      dispatch(\n        createBundle({\n          cellId: cell.id,\n          rawCode: cumulativeCode,\n        })\n      );\n    }\n\n    const timer = setTimeout(async () => {\n      dispatch(\n        createBundle({\n          cellId: cell.id,\n          rawCode: cumulativeCode,\n        })\n      );\n    }, 800);\n\n    return () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n    };\n    // eslint-disable-next-line\n  }, [cell.content, cell.id, dispatch]);\n\n  return (\n    <Box sx={{ marginBottom: '21px' }}>\n      <Resizable direction=\"vertical\">\n        <CodeCellContainer>\n          <Resizable direction=\"horizontal\">\n            <CodeEditor\n              initialValue={cell.content}\n              onChange={(value) => updateCell({ id: cell.id, content: value })}\n            />\n          </Resizable>\n\n          {!bundle || bundle?.isBundling ? (\n            <BundlingProgress>\n              <CircularProgress />\n\n              <Typography variant=\"h6\" component=\"div\">\n                {!bundle ? 'Loading' : 'Bundling code'}...\n              </Typography>\n            </BundlingProgress>\n          ) : (\n            <Preview code={bundle.code} bundlingStatus={bundle.err} />\n          )}\n        </CodeCellContainer>\n      </Resizable>\n    </Box>\n  );\n};\n\nexport default CodeCell;\n","import { useTypedSelector } from './useTypedSelector';\n\nexport const useCumulativeCode = (cellId: string) => {\n  return useTypedSelector((state) => {\n    const { data, order } = state.cells;\n\n    const orderedCells = order.map((id) => data[id]);\n\n    const showFunction = `\n    import _React from 'react';\n    import _ReactDOM from 'react-dom';\n\n    var show = (value) => {\n      const rootElement =  document.querySelector('#root');\n\n      if(typeof value === 'object'){\n        if(value.$$typeof && value.props){\n          _ReactDOM.render(value, rootElement)\n        } else {\n          rootElement.innerHTML = JSON.stringify(value);\n        }\n      } else {\n        rootElement.innerHTML = value\n      }\n    };\n    `;\n\n    const showFunctionNoOperation = 'var show = () => {}';\n\n    const cumulativeCode = [];\n\n    for (let c of orderedCells) {\n      if (c.type === 'code') {\n        if (c.id === cellId) {\n          cumulativeCode.push(showFunction);\n        } else {\n          cumulativeCode.push(showFunctionNoOperation);\n        }\n\n        cumulativeCode.push(c.content);\n      }\n\n      if (c.id === cellId) {\n        break;\n      }\n    }\n\n    return cumulativeCode;\n  }).join('\\n');\n};\n","import React, { FC, useState, useEffect, useRef } from 'react';\nimport MDEditor from '@uiw/react-md-editor';\nimport CardContent from '@mui/material/CardContent';\nimport Card from '@mui/material/Card';\nimport { useActions } from '../../hooks';\nimport './TextEditor.css';\nimport { Cell } from '../../store/cell';\n\ninterface Props {\n  cell: Cell;\n}\n\nconst TextEditor: FC<Props> = ({ cell }) => {\n  const [editing, setEditing] = useState(false);\n  const { updateCell } = useActions();\n\n  const MDEditorRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const listener = (event: MouseEvent) => {\n      if (\n        MDEditorRef.current &&\n        event.target &&\n        MDEditorRef.current.contains(event.target as Node)\n      ) {\n        setEditing(true);\n      } else {\n        setEditing(false);\n      }\n    };\n\n    document.addEventListener('click', listener, { capture: true });\n\n    return () => {\n      document.removeEventListener('click', listener, { capture: true });\n    };\n  }, []);\n\n  if (editing) {\n    return (\n      <div className=\"text-editor\" ref={MDEditorRef}>\n        <MDEditor\n          value={cell.content}\n          onChange={(v) => updateCell({ id: cell.id, content: v || '' })}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"text-editor\" onClick={() => setEditing(true)}>\n      <Card variant=\"outlined\">\n        <CardContent>\n          <MDEditor.Markdown source={cell.content || '## Click to edit'} />\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default TextEditor;\n","import { styled } from '@mui/system';\n\nexport const CellListItemContainer = styled('div')(({ theme }) => ({\n  position: 'relative',\n}));\n\nexport const ActionBarWrapper = styled('div')(({ theme }) => ({\n  width: '100%',\n  height: theme.spacing(3),\n  backgroundColor: '#37414b',\n}));\n","import React, { FC } from 'react';\nimport { Cell } from '../../store/cell';\nimport ActionBar from '../ActionBar/ActionBar';\nimport CodeCell from '../CodeCell/CodeCell';\nimport TextEditor from '../TextEditor/TextEditor';\nimport {\n  CellListItemContainer,\n  ActionBarWrapper,\n} from './CellListItems.styled';\n\ninterface Props {\n  cell: Cell;\n}\n\nconst CellListItem: FC<Props> = ({ cell }) => {\n  let child: JSX.Element = <></>;\n\n  if (cell.type === 'code') {\n    child = (\n      <>\n        <ActionBarWrapper>\n          <ActionBar cellId={cell.id} />\n        </ActionBarWrapper>\n\n        <CodeCell cell={cell} />\n      </>\n    );\n  } else if (cell.type === 'text') {\n    child = (\n      <>\n        <ActionBar cellId={cell.id} />\n\n        <TextEditor cell={cell} />\n      </>\n    );\n  }\n\n  return <CellListItemContainer>{child}</CellListItemContainer>;\n};\n\nexport default CellListItem;\n","import { styled } from '@mui/system';\n\nexport const AddCellContainer = styled('div', {\n  shouldForwardProp: (prop) => prop !== 'forceVisible' && prop !== 'opacity',\n})<{ forceVisible?: boolean; opacity: number | undefined }>(\n  ({ theme, forceVisible, opacity }) => ({\n    position: 'relative',\n    marginBlock: theme.spacing(2),\n    display: 'flex',\n    gap: theme.spacing(20),\n    justifyContent: 'center',\n    opacity: forceVisible ? opacity : 0,\n    transition: 'opacity 0.3s ease-in .1s',\n\n    '&:hover': {\n      opacity: 1,\n    },\n\n    '&:active': {\n      opacity: 1,\n      transition: 'opacity 0s',\n    },\n\n    '& > .MuiButton-root': {\n      zIndex: 2,\n      backgroundColor: theme.palette.background.paper,\n      borderRadius: '100rem',\n\n      '&:hover': {\n        backgroundColor: theme.palette.background.paper,\n      },\n    },\n  })\n);\n\nexport const Divider = styled('div')({\n  position: 'absolute',\n  top: '50%',\n  bottom: '50%',\n  borderBottom: '1px solid',\n  width: '80%',\n  zIndex: 1,\n});\n","import React, { FC, useEffect } from 'react';\nimport { useActions, useTypedSelector } from '../../hooks';\nimport Button from '@mui/material/Button';\nimport AddIcon from '@mui/icons-material/Add';\nimport { AddCellContainer, Divider } from './AddCell.styled';\n\ninterface Props {\n  previousCellId: string | null;\n  forceVisible?: boolean;\n  opacity?: number;\n}\n\nconst AddCell: FC<Props> = ({\n  previousCellId,\n  forceVisible = false,\n  opacity = 1,\n}) => {\n  const { insertCell } = useActions();\n\n  const { order } = useTypedSelector((state) => state.cells);\n\n  useEffect(() => {\n    if (previousCellId === order[order.length - 1]) {\n      window.scrollTo({\n        top: window.document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <AddCellContainer forceVisible={forceVisible} opacity={opacity}>\n      <Button\n        startIcon={<AddIcon />}\n        size=\"small\"\n        variant=\"outlined\"\n        onClick={() => insertCell({ id: previousCellId, type: 'code' })}\n      >\n        Code\n      </Button>\n\n      <Button\n        startIcon={<AddIcon />}\n        size=\"small\"\n        variant=\"outlined\"\n        onClick={() => insertCell({ id: previousCellId, type: 'text' })}\n      >\n        MarkDown\n      </Button>\n\n      <Divider />\n    </AddCellContainer>\n  );\n};\n\nexport default AddCell;\n","import { styled } from '@mui/system';\nimport Box from '@mui/material/Box';\n\nexport const CellListWrapper = styled(Box)(({ theme }) => ({\n  margin: `0 ${theme.spacing(3)}`,\n\n  '.react-draggable-transparent-selection &': {\n    marginBottom: '100vh',\n  },\n}));\n","import React, { FC, Fragment, useEffect } from 'react';\nimport { useTypedSelector } from '../../hooks';\nimport CellListItem from '../CellListItem/CellListItem';\nimport AddCell from '../AddCell/AddCell';\nimport { CellListWrapper } from './CodeCell.styled';\nimport { useAppDispatch } from '../../hooks';\nimport { fetchCells } from '../../store/features/cells/cellsSlice.thunk';\n\ninterface Props {}\n\nconst CellList: FC = (props: Props) => {\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCells());\n    // eslint-disable-next-line\n  }, []);\n\n  const { data, order } = useTypedSelector((state) => state.cells);\n\n  const cellsList = order.map((id) => data[id]);\n\n  const renderedCells = cellsList.map((cell) => {\n    return (\n      <Fragment key={cell.id}>\n        <CellListItem cell={cell} />\n\n        <AddCell previousCellId={cell.id} />\n      </Fragment>\n    );\n  });\n\n  renderedCells.push();\n\n  return (\n    <CellListWrapper>\n      <AddCell\n        forceVisible\n        opacity={cellsList.length === 0 ? 1 : 0}\n        previousCellId={null}\n      />\n\n      {renderedCells}\n    </CellListWrapper>\n  );\n};\n\nexport default CellList;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from '@mui/material/styles';\nimport darkTheme from './themes/defaultDarkTheme';\nimport { styled } from '@mui/system';\nimport Box from '@mui/material/Box';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport CellList from './components/CellList/CellList';\n\nconst MainLayout = styled(Box)(({ theme }) => ({\n  color: theme.palette.primary.main,\n  backgroundColor: theme.palette.background.paper,\n}));\n\nconst App = () => {\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <CssBaseline />\n\n      <Provider store={store}>\n        <MainLayout>\n          <CellList />\n        </MainLayout>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}